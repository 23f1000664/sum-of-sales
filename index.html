<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Loading Sales Summary...</title><script src="https://cdn.tailwindcss.com"></script></head><body class="bg-gray-100 flex items-center justify-center min-h-screen p-4"><div class="bg-white p-8 rounded-lg shadow-lg text-center max-w-md w-full"><h1 class="text-3xl font-bold text-gray-800 mb-4" id="pageTitle">Sales Summary</h1><p class="text-gray-600 mb-6">Fetching and calculating total sales...</p><div id="salesTotal" class="text-5xl font-extrabold text-indigo-600">$0.00</div><p class="text-gray-500 mt-4">Total sales from data.csv</p><div id="loadingIndicator" class="mt-6"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"></div><p class="text-sm text-gray-500 mt-2">Loading data...</p></div><div id="errorDisplay" class="hidden mt-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert"><strong class="font-bold">Error!</strong><span class="block sm:inline" id="errorMessage"></span></div></div><script>async function fetchAndSumSales(){const salesTotalDiv=document.getElementById('salesTotal');const pageTitleElement=document.getElementById('pageTitle');const loadingIndicator=document.getElementById('loadingIndicator');const errorDisplay=document.getElementById('errorDisplay');const errorMessageSpan=document.getElementById('errorMessage');salesTotalDiv.textContent='$0.00';document.title='Loading Sales Summary...';pageTitleElement.textContent='Sales Summary';loadingIndicator.classList.remove('hidden');errorDisplay.classList.add('hidden');try{const response=await fetch('data.csv');if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const csvText=await response.text();const lines=csvText.trim().split('\n');if(lines.length<2){throw new Error('CSV file is empty or malformed (no header or data).');}const headers=lines[0].split(',');const salesColumnIndex=headers.indexOf('sales');if(salesColumnIndex===-1){throw new Error("CSV file does not contain a 'sales' column.");}let totalSales=0;for(let i=1;i<lines.length;i++){const values=lines[i].split(',');if(values.length>salesColumnIndex){const salesValue=parseFloat(values[salesColumnIndex].trim());if(!isNaN(salesValue)){totalSales+=salesValue;}}}const seed='Report';document.title=`Sales Summary ${seed}`;pageTitleElement.textContent=`Sales Summary ${seed}`;salesTotalDiv.textContent=`$${totalSales.toFixed(2)}`;}catch(error){console.error('Error fetching or processing CSV:',error);document.title='Error Loading Sales';pageTitleElement.textContent='Error Loading Sales';errorMessageSpan.textContent=error.message;errorDisplay.classList.remove('hidden');salesTotalDiv.textContent='N/A';}finally{loadingIndicator.classList.add('hidden');}}document.addEventListener('DOMContentLoaded',fetchAndSumSales);</script></body></html>